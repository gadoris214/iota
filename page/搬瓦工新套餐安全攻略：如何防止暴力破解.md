# 搬瓦工新套餐安全攻略：如何防止暴力破解

## 为什么搬瓦工的IP容易成为目标？

搬瓦工的默认设置使其易受攻击。新购机器的 SSH 默认使用 22 端口，且密码较为简单，这使得暴力破解攻击变得容易。这篇文章适合已经购买或准备购买搬瓦工的新手，让大家了解如何保护自己的服务器安全。

👉 [【建议收藏】2025年搬瓦工最新优惠套餐整理汇总 - 每日更新最新可用优惠码](https://bit.ly/banwagon)

## 本文安全设置分级指南

为了让大家的服务器更加安全，本文将分为三个部分：初级篇、进阶篇、高级篇。通过以下简单的设置步骤，可以显著提高服务器的安全性，避免受到暴力破解攻击。

---

## 初级篇：修改 SSH 端口提高安全性

修改 SSH 端口是提高安全性最简单的方法。以下是具体步骤（以 Debian 为例）：

1. 使用命令 `nano /etc/ssh/sshd_config` 打开 SSH 配置文件。
2. 找到 `Port 22`，修改为一个高位端口（建议 20000 到 60000 之间的端口号）。
3. 保存并退出：同时按 `Ctrl+X`，然后按 `Y` 确认。
4. 重启 SSH 服务：输入命令 `sudo systemctl restart sshd`。

完成上述步骤后，SSH 端口修改成功，通过简单的调整即可防止大部分暴力破解尝试。

---

## 进阶篇：使用密钥认证替代密码登录

密钥登录相比传统密码登录更为安全。以下是设置步骤：

1. 使用在线密钥生成工具（例如：`https://bkssl.com/ssl/ssh_generate`），生成公钥和私钥。
2. 下载保存私钥，复制公钥文本。
3. 登录搬瓦工管理后台，点击左侧的 SSH Keys，将公钥粘贴到输入框并保存。
4. 关闭密码登录：
   - 使用命令 `nano /etc/ssh/sshd_config` 打开 SSH 配置文件。
   - 添加以下配置：`PasswordAuthentication no`。
   - 保存并退出：同时按 `Ctrl+X`，然后按 `Y` 确认。
   - 重启 SSH 服务：输入命令 `sudo systemctl restart sshd`。

完成设置后，服务器只允许密钥登录，大幅提高安全性。

---

## 高级篇：安装 fail2ban 控制登录行为

为进一步加强防护，可安装 fail2ban 对异常登录行为进行限制。以下是安装步骤：

1. 使用命令安装 fail2ban：`sudo apt update && sudo apt install -y fail2ban`。
2. 启动并设置开机自启：输入命令 `sudo systemctl enable --now fail2ban`。
3. 配置登录失败次数和时间间隔等，详细教程可以参考网上资料。

提示：如果按照进阶篇实现了密钥登录，其实已经足够安全，但 fail2ban 能提供额外保护，防止恶意多次尝试。

---

通过以上三个层级的安全设置，从基础到高级，可以全面保护搬瓦工服务器避免暴力破解风险。赶紧动手操作，确保数据与服务的安全！